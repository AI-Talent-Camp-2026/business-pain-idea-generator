# Feature Specification: Pain-to-Idea Generator MVP

**Feature Branch**: `001-pain-to-idea-mvp`
**Created**: 2026-02-04
**Status**: Draft
**Input**: 1-day MVP: генератор болей → бизнес-идеи. Пользователь запускает прогон (без регистрации), получает 10-20 идей с болями, доказательствами, аналогами, планами 7/30 дней. Асинхронная генерация с прогрессом. Русский интерфейс. Экспорт в markdown.

## User Scenarios & Testing *(mandatory)*

### User Story 1 - Start Idea Generation Run (Priority: P1)

Пользователь заходит на сайт и запускает генерацию бизнес-идей одним кликом без необходимости регистрации или заполнения длинных форм. Система немедленно начинает асинхронный процесс анализа и генерации.

**Why this priority**: Это критичный entry point - если пользователь не может легко начать, он уйдет. Низкий барьер входа является ключевым для 1-day MVP и early adopters.

**Independent Test**: Можно полностью протестировать открытием главной страницы, нажатием кнопки "Запустить прогон" и проверкой, что система возвращает ID прогона и переходит к экрану статуса.

**Acceptance Scenarios**:

1. **Given** пользователь открывает главную страницу, **When** нажимает кнопку "Запустить прогон", **Then** система немедленно создает новый прогон, возвращает уникальный ID и перенаправляет на страницу отслеживания статуса
2. **Given** пользователь на главной странице, **When** нажимает "Запустить прогон" без заполнения опциональных полей, **Then** система начинает прогон с настройками по умолчанию
3. **Given** пользователь опционально указал направление/интерес, **When** запускает прогон, **Then** система учитывает это направление при генерации идей

---

### User Story 2 - Track Generation Progress (Priority: P1)

Во время асинхронной генерации идей (которая может занять до 10 минут) пользователь видит понятный прогресс с человекочитаемыми этапами на русском языке, понимая что происходит и сколько примерно осталось.

**Why this priority**: Без прозрачного прогресса пользователи теряют доверие и закрывают страницу. Это критично для удержания пользователей в течение длительного процесса генерации.

**Independent Test**: Можно протестировать запуском прогона и проверкой, что на странице статуса отображаются этапы: "Поиск сигналов", "Анализ болей", "Генерация идей", "Поиск аналогов", "Создание планов" с индикацией текущего этапа.

**Acceptance Scenarios**:

1. **Given** прогон был запущен, **When** пользователь находится на странице статуса, **Then** система показывает текущий этап генерации на русском языке
2. **Given** прогон выполняется, **When** система переходит к следующему этапу, **Then** UI автоматически обновляется и показывает новый этап
3. **Given** прогон завершен успешно, **When** все этапы пройдены, **Then** система автоматически перенаправляет на страницу результатов
4. **Given** прогон завершился с ошибкой, **When** пользователь смотрит статус, **Then** система показывает понятное сообщение об ошибке на русском языке

---

### User Story 3 - View Generated Ideas (Priority: P1)

После завершения генерации пользователь видит список из 10-20 бизнес-идей, каждая из которых содержит краткую информацию: название идеи, описание боли, сегмент пользователей, уровень уверенности. Пользователь может быстро просмотреть все идеи и выбрать интересные для детального изучения.

**Why this priority**: Это ядро value proposition продукта - без качественного отображения идей продукт не имеет ценности. Пользователь должен быстро понять суть каждой идеи.

**Independent Test**: Можно протестировать открытием страницы результатов прогона и проверкой, что отображается 10-20 карточек идей с обязательными полями.

**Acceptance Scenarios**:

1. **Given** прогон завершен успешно, **When** пользователь открывает страницу результатов, **Then** система показывает от 10 до 20 бизнес-идей
2. **Given** пользователь на странице результатов, **When** просматривает список идей, **Then** каждая карточка содержит: название, краткое описание боли, сегмент ("кому болит"), уровень уверенности (высокий/средний/низкий)
3. **Given** список идей отображается, **When** пользователь читает описания, **Then** все тексты на русском языке без английских вставок (кроме названий брендов)

---

### User Story 4 - View Idea Details (Priority: P1)

Пользователь открывает детальную страницу выбранной идеи и видит полную информацию: развернутое описание боли, доказательства (сигналы), 2-3 аналога/конкурента с ссылками, план реализации на 7 дней и 30 дней. Доказательства по умолчанию показаны кратко, детали доступны по кнопке "Подробнее".

**Why this priority**: Детальная информация необходима для принятия решения о выборе идеи. Без аналогов и планов пользователь не может оценить выполнимость и конкуренцию.

**Independent Test**: Можно протестировать кликом на любую идею из списка и проверкой наличия всех обязательных секций: боль, доказательства, аналоги (минимум 2), план на 7 дней, план на 30 дней.

**Acceptance Scenarios**:

1. **Given** пользователь на странице результатов, **When** кликает на карточку идеи, **Then** открывается детальная страница с полной информацией
2. **Given** детальная страница идеи открыта, **When** пользователь просматривает информацию, **Then** видит секции: описание боли (1 абзац), сегмент аудитории, краткие доказательства (2-5 строк паттернов), минимум 2 аналога с названиями и ссылками, план на 7 дней, план на 30 дней, уровень уверенности
3. **Given** пользователь видит краткие доказательства, **When** нажимает кнопку "Подробнее" в секции доказательств, **Then** раскрываются дополнительные детали: ссылки на источники, примеры обсуждений, контекст
4. **Given** детальная страница открыта, **When** пользователь читает аналоги, **Then** каждый аналог содержит название, краткое описание "что делают" и кликабельную ссылку

---

### User Story 5 - Export Ideas to Markdown (Priority: P2)

Пользователь может экспортировать выбранные идеи или все идеи в формат Markdown для дальнейшей работы с командой, менторами или для сохранения в личных заметках.

**Why this priority**: Экспорт позволяет пользователю работать с идеями вне системы, что важно для практического использования результатов, но не блокирует основной core flow просмотра.

**Independent Test**: Можно протестировать нажатием кнопки "Экспортировать" на странице результатов и проверкой, что скачивается .md файл с корректной структурой всех выбранных идей.

**Acceptance Scenarios**:

1. **Given** пользователь на странице результатов, **When** нажимает кнопку "Экспортировать все", **Then** система генерирует и скачивает .md файл со всеми 10-20 идеями
2. **Given** пользователь на странице результатов, **When** выбирает 2-3 идеи чекбоксами и нажимает "Экспортировать выбранное", **Then** система генерирует .md файл только с выбранными идеями
3. **Given** .md файл сгенерирован, **When** пользователь открывает его, **Then** файл содержит для каждой идеи: название, описание боли, сегмент, доказательства, аналоги с ссылками, планы 7/30 дней, уровень уверенности - всё в читаемом Markdown формате на русском языке

---

### Edge Cases

- Что происходит, когда генерация не может найти достаточно сигналов и создает менее 10 идей?
- Как система обрабатывает ситуацию, когда для идеи найдено менее 2 аналогов?
- Что показывается пользователю, если прогон прерывается из-за ошибки LLM API (OpenRouter недоступен)?
- Как система ведет себя при одновременном запуске 50+ прогонов (rate limiting)?
- Что происходит, если пользователь закрывает браузер во время генерации и возвращается по ID прогона позже?

## Requirements *(mandatory)*

### Functional Requirements

- **FR-001**: Система MUST предоставлять публичный доступ без регистрации, аутентификации или создания учетной записи
- **FR-002**: Система MUST отображать весь UI на русском языке (кнопки, labels, сообщения, заголовки)
- **FR-003**: Пользователи MUST иметь возможность запустить прогон генерации одним кликом без обязательных полей
- **FR-004**: Система MUST выполнять генерацию идей асинхронно в фоновом режиме
- **FR-005**: Система MUST возвращать уникальный ID прогона сразу после запуска
- **FR-006**: Система MUST отображать прогресс выполнения прогона с понятными этапами на русском языке
- **FR-007**: Система MUST генерировать от 10 до 20 бизнес-идей за один прогон
- **FR-008**: Система MUST завершать генерацию в течение 10 минут (Bronze target) для обеспечения приемлемого UX
- **FR-009**: Каждая сгенерированная идея MUST содержать: название, описание боли (1 абзац), сегмент аудитории, краткие доказательства (паттерны), минимум 2 аналога с ссылками, план на 7 дней, план на 30 дней, уровень уверенности (высокий/средний/низкий)
- **FR-010**: Все описания болей, идей, планов и доказательств MUST быть на русском языке
- **FR-011**: Система MUST показывать доказательства в двух режимах: краткий (по умолчанию, 2-5 строк) и детальный (по кнопке "Подробнее" с ссылками на источники)
- **FR-012**: Система MUST использовать OpenRouter как единственный провайдер LLM для генерации
- **FR-013**: Система MUST использовать только публичные источники данных (форумы, сообщества, комментарии, обзоры)
- **FR-014**: Пользователи MUST иметь возможность экспортировать все идеи или выбранные идеи в формат Markdown
- **FR-015**: Система MUST сохранять результаты прогона минимум на 24 часа для возможности возврата по ID
- **FR-016**: Система MUST применять rate limiting для предотвращения злоупотреблений (без аутентификации - на основе IP)
- **FR-017**: Система MUST поддерживать до 50 одновременных прогонов без деградации UI (NFR requirement)
- **FR-018**: Система MUST отображать понятные сообщения об ошибках на русском языке при сбоях генерации

### Key Entities

- **Run (Прогон)**: Представляет одну сессию генерации идей. Атрибуты: уникальный ID, дата создания, статус (в процессе/завершен/ошибка), текущий этап, опциональное направление/интерес, количество сгенерированных идей, время создания, время завершения.

- **Idea (Идея)**: Бизнес-идея, сгенерированная системой. Атрибуты: название, описание боли, сегмент аудитории ("кому болит"), краткие доказательства (паттерны), детальные доказательства (ссылки/примеры), список аналогов, план на 7 дней, план на 30 дней, уровень уверенности, связь с Run ID.

- **Analogue (Аналог)**: Конкурент или существующее решение. Атрибуты: название, краткое описание ("что делают"), URL ссылка, связь с Idea.

- **Evidence (Доказательство)**: Сигнал или подтверждение боли из публичных источников. Атрибуты: краткое описание паттерна, детальный контекст (опционально), источник/URL (опционально), тип сигнала, связь с Idea.

- **GenerationStage (Этап генерации)**: Этап в процессе создания идей. Значения: "Поиск сигналов", "Анализ болей", "Генерация идей", "Поиск аналогов", "Создание планов", "Завершение".

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: Пользователь может запустить прогон генерации идей за менее чем 10 секунд с момента открытия главной страницы (включая загрузку + один клик)
- **SC-002**: 90% прогонов завершаются в течение 10 минут (Bronze target), с целевым показателем 3 минуты (Silver target)
- **SC-003**: Каждый прогон генерирует от 10 до 20 валидных идей, где валидная идея = содержит все 6 обязательных компонентов (боль, сегмент, доказательства, минимум 2 аналога, 2 плана, уровень уверенности)
- **SC-004**: 95% сгенерированных идей содержат минимум 2 аналога с рабочими ссылками (не 404)
- **SC-005**: Все UI тексты и сгенерированный контент на 100% на русском языке (исключая названия брендов)
- **SC-006**: Система поддерживает 50 одновременных прогонов без увеличения времени отклика UI более чем на 2 секунды
- **SC-007**: Пользователь может экспортировать все идеи в Markdown за менее чем 5 секунд
- **SC-008**: Коэффициент завершенных прогонов (без критических ошибок) составляет минимум 85%
- **SC-009**: Пользователь может вернуться к результатам прогона по ID в течение минимум 24 часов после завершения
- **SC-010**: 80% пользователей открывают детальную страницу минимум одной идеи (показатель вовлеченности)

### Assumptions

- Предполагается, что пользователи имеют стабильное интернет-соединение для работы с асинхронной генерацией
- OpenRouter API доступен с uptime минимум 95% (внешняя зависимость)
- Публичные источники данных (форумы, сообщества) остаются доступными для парсинга
- Пользователи используют современные браузеры (Chrome, Firefox, Safari, Edge последних 2 версий)
- Для MVP достаточно desktop-first верстки, мобильная адаптация желательна но не критична
- Пользователи согласны с тем, что результаты являются гипотезами и требуют валидации
- IP-based rate limiting достаточен для предотвращения злоупотреблений на MVP стадии
- 24-часовое хранение результатов достаточно для MVP (после можно расширить до 7 дней)
